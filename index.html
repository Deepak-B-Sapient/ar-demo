<html>
    <head>
        <title>Augumented reality</title>
        <script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
        <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
        <script>
            AFRAME.registerComponent('clickhandler', {
                init: function () {
                    this.el.sceneEl.addEventListener('click', () => {
                        window.open(this.data.url, '_self');
                    });
                },
            });
            AFRAME.registerComponent('vidhandler', {
                // ...
                init: function () {
                    // Set up initial state and variables.
                    this.toggle = false;
                    this.vid = document.querySelector('#vid');
                    this.vid.pause();
                },
                tick: function () {
                    if (this.el.object3D.visible == true) {
                        if (!this.toggle) {
                            this.toggle = true;
                            this.vid.play();
                        }
                    } else {
                        this.toggle = false;
                        this.vid.pause();
                    }
                },
            });
        </script>
    </head>

    <body style="margin: 0px; overflow: hidden">
        <a-scene
            embedded=""
            arjs="trackingMethod: best;sourceType: webcam;"
            class=""
            inspector=""
            keyboard-shortcuts=""
            screenshot=""
            vr-mode-ui=""
        >
            <a-assets>
                <video
                    type="video/mp4"
                    id="vid"
                    loop="false"
                    src="https://cdn.glitch.com/b62367d1-ceab-454b-b664-b032f995ed86%2FBig_Buck_Bunny_Trailer_1080p.ogv.720p.webm?1532370072191"
                    muted="muted"
                    webkit-playsinline
                ></video>
            </a-assets>
            <!-- <a-image
                id="test"
                src="lbp_nav_logo.jpeg"
                position="0 0 0"
                rotation="-90 0 0"
                width=""
                height=""
                opacity="1"
                scale="1 1 1"
                visible=""
                material=""
                geometry=""
                clickhandler="url: https://www.lovebeautyandplanet.com/us/en"
            ></a-image> -->

            <a-marker preset="hiro" vidhandler>
                <a-plane position='1 2 -2' scale="2 2 2" width="2" rotation="-90 0 0" material='transparent:true;opacity: 0.7;src:#vid'></a-plane>
            </a-marker>
        </a-scene>
    </body>
</html>
